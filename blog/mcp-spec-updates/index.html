<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">MCP 2025-06-18 Spec Update: Security, Structured Output &amp; Elicitation | Forge Code</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://forgecode.dev/blog/mcp-spec-updates/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:image" content="/images/opengraph.png"><meta data-rh="true" property="og:image" content="https://forgecode.dev/images/opengraph.png"><meta data-rh="true" property="og:image:width" content="1200"><meta data-rh="true" property="og:image:height" content="630"><meta data-rh="true" property="og:title" content="MCP 2025-06-18 Spec Update: Security, Structured Output &amp; Elicitation | Forge Code"><meta data-rh="true" name="description" content="Real talk about MCP Spec update (v2025-06-18), including important changes, security implications and what developers should actually care about."><meta data-rh="true" property="og:description" content="Real talk about MCP Spec update (v2025-06-18), including important changes, security implications and what developers should actually care about."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-07-01T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/Anmol-Baranwal"><meta data-rh="true" property="article:tag" content="Security,MCP,MCP Spec Updates,Best Practices,Vulnerabilities"><link data-rh="true" rel="canonical" href="https://forgecode.dev/blog/mcp-spec-updates/"><link data-rh="true" rel="alternate" href="https://forgecode.dev/blog/mcp-spec-updates/" hreflang="en"><link data-rh="true" rel="alternate" href="https://forgecode.dev/blog/mcp-spec-updates/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://748OFOGLOE-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://forgecode.dev/blog/mcp-spec-updates","mainEntityOfPage":"https://forgecode.dev/blog/mcp-spec-updates","url":"https://forgecode.dev/blog/mcp-spec-updates","headline":"MCP 2025-06-18 Spec Update: Security, Structured Output & Elicitation","name":"MCP 2025-06-18 Spec Update: Security, Structured Output & Elicitation","description":"Real talk about MCP Spec update (v2025-06-18), including important changes, security implications and what developers should actually care about.","datePublished":"2025-07-01T00:00:00.000Z","author":{"@type":"Person","name":"Anmol","url":"https://github.com/Anmol-Baranwal","image":"https://avatars.githubusercontent.com/u/74038190?v=4"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://forgecode.dev/blog","name":"Feed of ForgeCode blogs"}}</script><link rel="search" type="application/opensearchdescription+xml" title="Forge Code" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Forge Code RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Forge Code Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Forge Code JSON Feed">



<link rel="icon" href="/images/favicon-light.svg" type="image/svg+xml">
<link rel="icon" href="/images/favicon-dark.svg" type="image/svg+xml" media="(prefers-color-scheme: dark)">
<script defer="defer" data-domain="forgecode.dev" src="https://plausible.io/js/script.file-downloads.hash.outbound-links.pageview-props.revenue.tagged-events.js"></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script>
<script type="application/ld+json">{"@context":"https://schema.org/","@type":"WebSite","name":"ForgeCode","url":"https://forgecode.dev/"}</script>
<script>!function(e,n,t,i,c,s){e.SnitchObject=t,e[t]||(e[t]=function(){(e[t].q=e[t].q||[]).push(arguments)}),e[t].l=+new Date,c=n.createElement(i),s=n.getElementsByTagName(i)[0],c.src="//snid.snitcher.com/8432087.js",s.parentNode.insertBefore(c,s)}(window,document,"snid","script"),snid("verify","8432087")</script>
<script>!function(){var t=window.reb2b=window.reb2b||[];if(!t.invoked){t.invoked=!0,t.methods=["identify","collect"],t.factory=function(e){return function(){var r=Array.prototype.slice.call(arguments);return r.unshift(e),t.push(r),t}};for(var e=0;e<t.methods.length;e++){var r=t.methods[e];t[r]=t.factory(r)}t.load=function(t){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://s3-us-west-2.amazonaws.com/b2bjsstore/b/"+t+"/0OV0VHL3P56Z.js.gz";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)},t.SNIPPET_VERSION="1.0.1",t.load("0OV0VHL3P56Z")}}()</script><link rel="stylesheet" href="/assets/css/styles.001d02cd.css">
<script src="/assets/js/runtime~main.e6ba974f.js" defer="defer"></script>
<script src="/assets/js/main.6de6852d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="sticky top-0 z-50"><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" aria-label="Forge Code" href="/"><div class="navbar__logo" style="height:30px"><img src="/images/home/logo-dark.svg" alt="logo"></div></a><a class="navbar__item navbar__link" href="/">Home</a><a class="navbar__item navbar__link" href="/pricing/">Pricing</a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blogs</a></div><div class="navbar__items navbar__items--right"><div class="hidden lg:flex search-icon-navbar navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav></div><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_eExm"><div class="container mx-auto mt-3 mb-10 md:my-8 px-4"><div class="flex flex-row"><div class="hidden lg:block lg:w-[20.83%]"></div><div class="w-full lg:w-[58.33%]"><article class=""><header><a class="flex items-center gap-2 my-8 cursor-pointer !no-underline" href="/blog/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg><span class="text-content-small text-tailCall-light-600">Back to Blogs</span></a><h1 class="title_xvU1">MCP 2025-06-18 Spec Update: Security, Structured Output &amp; Elicitation</h1><div class="container_iJTo margin-vert--md"><time datetime="2025-07-01T00:00:00.000Z">July 1, 2025</time> · <!-- -->16 min read<div class="w-full flex flex-wrap gap-2 mt-4"><a class="bg-tailCall-dark-700 !no-underline text-tailCall-light-200 px-3 py-2 rounded-full cursor-pointer" href="/blog/tags/security/">Security</a><a class="bg-tailCall-dark-700 !no-underline text-tailCall-light-200 px-3 py-2 rounded-full cursor-pointer" href="/blog/tags/mcp/">MCP</a><a class="bg-tailCall-dark-700 !no-underline text-tailCall-light-200 px-3 py-2 rounded-full cursor-pointer" href="/blog/tags/mcp-spec-updates/">MCP Spec Updates</a><a class="bg-tailCall-dark-700 !no-underline text-tailCall-light-200 px-3 py-2 rounded-full cursor-pointer" href="/blog/tags/best-practices/">Best Practices</a><a class="bg-tailCall-dark-700 !no-underline text-tailCall-light-200 px-3 py-2 rounded-full cursor-pointer" href="/blog/tags/vulnerabilities/">Vulnerabilities</a></div></div></header><div id="__blog-post-container" class="markdown"><div class="undefined"><div id="elevenlabs-audionative-widget" data-height="90" data-width="100%" data-frameborder="no" data-scrolling="no" data-publicuserid="96e32731df14f1442beaf5041eec1125596de23ef9ff6ef5d151d28a1464da1b" data-playerurl="https://elevenlabs.io/player/index.html" data-small="True" data-textcolor="rgba(0, 0, 0, 1.0)" data-backgroundcolor="#f5f3eb" data-projectid="oMLCQFUnhC7GqCsM0Rvv">Elevenlabs AudioNative Player</div></div>
<p>The Model Context Protocol has faced significant criticism in the past due to its security vulnerabilities. Anthropic recently released a new specification update (MCP v2025-06-18)<sup><a id="ref-1" href="#footnote-1">1</a></sup> and I have been reviewing it, especially around security. Here are the important changes you should know.</p>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tldr">TL;DR<a href="#tldr" class="hash-link" aria-label="Direct link to TL;DR" title="Direct link to TL;DR">​</a></h2>
<p>Here&#x27;s a quick summary of everything new in MCP Spec v2025-06-18:</p>
<ul>
<li>
<p>MCP servers are classified as OAuth 2.0 Resource Servers.</p>
</li>
<li>
<p>Clients must include a <code>resource</code> parameter (RFC 8707) when requesting tokens, this explicitly binds each access token to a specific MCP server.</p>
</li>
<li>
<p>Structured JSON tool output is now supported (<code>structuredContent</code>).</p>
</li>
<li>
<p>Servers can now ask users for input mid-session by sending an <code>elicitation/create</code> request with a message and a JSON schema.</p>
</li>
<li>
<p>“Security Considerations” have been added to prevent token theft, PKCE, redirect URIs, confused deputy issues.</p>
</li>
<li>
<p>Newly added Security best practices page addresses threats like token passthrough, confused deputy, session hijacking, proxy misuse with concrete countermeasures.</p>
</li>
<li>
<p>All HTTP requests must include the <code>MCP-Protocol-Version</code> header. If the header is missing and the version can’t be inferred, servers should default to <code>2025-03-26</code> for backward compatibility.</p>
</li>
<li>
<p>New <code>resource_link</code> type lets tools point to URIs instead of inlining everything. The client can then subscribe to or fetch this URI as needed.</p>
</li>
<li>
<p>Removed support for JSON-RPC batching (breaking change).</p>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="whats-mcp-and-why-should-i-care">What&#x27;s MCP and Why Should I Care?<a href="#whats-mcp-and-why-should-i-care" class="hash-link" aria-label="Direct link to What&#x27;s MCP and Why Should I Care?" title="Direct link to What&#x27;s MCP and Why Should I Care?">​</a></h2>
<p>MCP (Model Context Protocol) is Anthropic&#x27;s attempt at standardizing how applications provide context and tools to LLMs<sup><a id="ref-2" href="#footnote-2">2</a></sup>. Think of it like HTTP for AI models - a standardized protocol for AI models to “plug in” to data sources and tools.</p>
<p>Instead of writing custom integrations (GitHub, Slack, databases, file systems), MCP lets a host dynamically discover available tools (<code>tools/list</code>), invoke them (<code>tools/call</code>) and get back structured results. This mimics function-calling APIs but works across platforms and services.</p>
<p>At its core, MCP follows a client-server architecture where a host application can connect to multiple servers. Here are the core components:</p>
<ul>
<li>
<p><code>MCP hosts</code> - apps like, <a href="https://github.com/antinomyhq/forge" target="_blank" rel="noopener noreferrer">Forge</a>, Claude Desktop, Cursor, Windsurf or AI tools that want to access data via MCP.</p>
</li>
<li>
<p><code>MCP Clients</code> - protocol clients that maintain 1:1 connections with MCP servers, acting as the communication bridge.</p>
</li>
<li>
<p><code>MCP Servers</code> - lightweight programs that each expose specific capabilities (like reading files, querying databases...) through the standardized Model Context Protocol.</p>
</li>
<li>
<p><code>Local Data Sources</code> - files, databases and services on your computer that MCP servers can securely access. For instance, a browser automation MCP server needs access to your browser to work.</p>
</li>
<li>
<p><code>Remote Services</code> - External APIs and cloud-based systems that MCP servers can connect to.</p>
</li>
</ul>
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/4qblsimyt39tbg619b84.png" alt="mcp server" width="100%">
<figcaption><i>credit: ByteByteGo</i><sup><a id="ref-3" href="#footnote-3">3</a></sup></figcaption>
<p>The spec was fairly minimal before (using JSON-RPC over stdio or HTTP). Authentication wasn’t clearly defined, which is why many implementations skipped it altogether.</p>
<p>Now that MCP adoption is growing, the team is addressing these gaps while the ecosystem is still early enough to make meaningful changes.</p>
<p>There are definitely core security vulnerabilities (tool description injection, supply chain risks) that are still not addressed but you can follow some practical mitigation strategies that might help<sup><a id="ref-4" href="#footnote-4">4</a></sup>.</p>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="oauth-20-resource-server-classification">OAuth 2.0 Resource Server Classification<a href="#oauth-20-resource-server-classification" class="hash-link" aria-label="Direct link to OAuth 2.0 Resource Server Classification" title="Direct link to OAuth 2.0 Resource Server Classification">​</a></h2>
<p>MCP servers (the systems that protect your data or services) are now officially classified as OAuth 2.0 Resource Servers. This isn&#x27;t a new idea conceptually since many developers already treated MCP servers as protected resources but the spec now formalizes this with explicit OAuth 2.0 classification.</p>
<p>Each MCP server must now indicate the location of its authorization server using protected resource metadata (RFC9728)<sup><a id="ref-5" href="#footnote-5">5</a></sup>. By embedding an authorization endpoint URL in the MCP server’s metadata, ambiguity is removed and token requests are securely directed to the intended issuer.</p>
<p>Read more about Authorization Server Location<sup><a id="ref-6" href="#footnote-6">6</a></sup>. Token binding is explained in detail in the next section.</p>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resource-indicators-rfc-8707-to-prevent-token-misuse">Resource Indicators (RFC 8707) to prevent Token Misuse<a href="#resource-indicators-rfc-8707-to-prevent-token-misuse" class="hash-link" aria-label="Direct link to Resource Indicators (RFC 8707) to prevent Token Misuse" title="Direct link to Resource Indicators (RFC 8707) to prevent Token Misuse">​</a></h2>
<p>Clients must include a Resource Indicator when requesting tokens (the <code>resource</code> parameter from RFC 8707) and authorization. This explicitly binds each access token to a specific MCP server. The Authorization Server can then issue tightly scoped tokens valid only for specific servers, preventing malicious actors from redirecting tokens to unauthorized endpoints.</p>
<p>Binding tokens to a single resource prevents “token mis-redemption” attacks, where a token issued for one resource could be replayed against a different server.</p>
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/znf66tk04wttzxz7stlh.png" alt="auth0 documenting implementation" width="100%">
<figcaption><i>credit: Auth0 Blog</i><sup><a id="ref-7" href="#footnote-7">7</a></sup></figcaption>
<p>For example, let&#x27;s consider a simple scenario where the client is requesting a token specifically to access the <code>analytics</code> MCP server.</p>
<p>Because the <code>resource</code> parameter is included, the authorization server will issue a token that is audience-bound to <code>https://mcp.example.com/analytics</code>.</p>
<p>That token cannot be used to access any other endpoint or server, such as <code>https://mcp.example.com/payments</code> or <code>https://mcp.example.com/notifications</code>, even if they are part of the same MCP deployment.</p>
<div class="relative overflow-hidden"><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#181818"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#181818"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">POST /oauth/token</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">{</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  &quot;grant_type&quot;: &quot;client_credentials&quot;,</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  &quot;client_id&quot;: &quot;analytics-client&quot;,</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  &quot;client_secret&quot;: &quot;...&quot;,</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  &quot;resource&quot;: &quot;https://mcp.example.com/analytics&quot;</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">}</span><br></span></code></pre></div></div><button aria-label="Copy code" class="absolute top-[12px] right-4 z-20 bg-[rgba(24,24,24,0.85)] border-none rounded-none px-2 py-1 flex items-center cursor-pointer text-white font-sans"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 [filter:brightness(2)] ml-0.5"></button></div>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="updated-security-documentation">Updated Security Documentation<a href="#updated-security-documentation" class="hash-link" aria-label="Direct link to Updated Security Documentation" title="Direct link to Updated Security Documentation">​</a></h2>
<p>The spec now includes clarified Security Considerations<sup><a id="ref-8" href="#footnote-8">8</a></sup>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-resource-indicators--audience-binding-discussed-earlier">1) Resource Indicators &amp; Audience Binding (discussed earlier)<a href="#1-resource-indicators--audience-binding-discussed-earlier" class="hash-link" aria-label="Direct link to 1) Resource Indicators &amp; Audience Binding (discussed earlier)" title="Direct link to 1) Resource Indicators &amp; Audience Binding (discussed earlier)">​</a></h3>
<ul>
<li>Tokens are now bound to specific MCP servers using <code>resource</code> indicators</li>
<li>Servers must <code>validate the audience</code> of each token before accepting it.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-preventing-token-theft">2) Preventing Token Theft<a href="#2-preventing-token-theft" class="hash-link" aria-label="Direct link to 2) Preventing Token Theft" title="Direct link to 2) Preventing Token Theft">​</a></h3>
<ul>
<li>Clients and servers must securely store tokens (no logs, cache leaks...).</li>
<li>Authorization servers should issue short-lived tokens to reduce risk if leaked.</li>
<li>For public clients, refresh tokens must be rotated (as per OAuth 2.1</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-communication-security">3) Communication Security<a href="#3-communication-security" class="hash-link" aria-label="Direct link to 3) Communication Security" title="Direct link to 3) Communication Security">​</a></h3>
<ul>
<li>All auth endpoints must be served over HTTPS.</li>
<li>Redirect URIs must be either <code>localhost</code> (for dev) or secure <code>https://</code> URLs.</li>
<li>Aligns with OAuth 2.1 for end-to-end secure transport.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4-authorization-code-protection-pkce">4) Authorization Code Protection (PKCE)<a href="#4-authorization-code-protection-pkce" class="hash-link" aria-label="Direct link to 4) Authorization Code Protection (PKCE)" title="Direct link to 4) Authorization Code Protection (PKCE)">​</a></h3>
<p>An attacker who has gained access to an authorization code contained in an authorization response can try to redeem the authorization code for an access token or otherwise make use of it. To mitigate this:</p>
<ul>
<li>PKCE is mandatory for all clients to prevent interception or injection.</li>
<li>This creates a secret verifier-challenge pair, so only the original client can exchange an auth code for tokens.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5-open-redirection">5) Open Redirection<a href="#5-open-redirection" class="hash-link" aria-label="Direct link to 5) Open Redirection" title="Direct link to 5) Open Redirection">​</a></h3>
<p>An attacker may craft malicious redirect URIs to direct users to phishing sites.</p>
<ul>
<li>Clients must pre-register exact redirect URIs with the auth server.</li>
<li>Servers must strictly validate incoming redirect URIs to avoid phishing.</li>
<li>Use of the <code>state</code> parameter is recommended to prevent request tampering.</li>
</ul>
<p>Authorization servers should only automatically redirect the user agent if it trusts the redirection URI. If the URI is not trusted, the authorization server may inform the user and rely on the user to make the correct decision.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6-confused-deputy-prevention">6) Confused Deputy Prevention<a href="#6-confused-deputy-prevention" class="hash-link" aria-label="Direct link to 6) Confused Deputy Prevention" title="Direct link to 6) Confused Deputy Prevention">​</a></h3>
<p>Attackers can exploit MCP servers acting as intermediaries to third-party APIs, leading to <code>confused deputy vulnerabilities</code>.</p>
<ul>
<li>MCP proxy servers must not forward tokens blindly to upstream APIs.</li>
<li>When acting as an OAuth client, they must get a separate token from the upstream.</li>
<li>Clients must obtain explicit user consent for dynamically registered clients.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="7-token-audience-validation">7) Token Audience Validation<a href="#7-token-audience-validation" class="hash-link" aria-label="Direct link to 7) Token Audience Validation" title="Direct link to 7) Token Audience Validation">​</a></h3>
<p>This vulnerability has two critical dimensions: Audience validation failures &amp; Token passthrough. To prevent that:</p>
<ul>
<li>MCP servers must verify that access tokens are intended for them, using audience claims.</li>
<li>Tokens issued for other services must be rejected.</li>
<li>Token passthrough to downstream APIs is explicitly forbidden.</li>
</ul>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="new-security-best-practices-page">New Security Best Practices page<a href="#new-security-best-practices-page" class="hash-link" aria-label="Direct link to New Security Best Practices page" title="Direct link to New Security Best Practices page">​</a></h2>
<p>They have included a new Security best practices page<sup><a id="ref-9" href="#footnote-9">9</a></sup>. These sections consolidate actionable advice (explicit consent flows, minimal data scopes, human-in-the-loop prompts, etc.) for MCP implementers. It outlines security guidance for developers and implementers working with MCP. Here are all the things covered:</p>
<ul>
<li>Includes threats such as confused deputy, token passthrough, and session hijacking, each followed by explicit countermeasures.</li>
<li>Describes proxy misuse when static client IDs and consent cookies allow unauthorized token redemptions.</li>
<li>Details the risks of forwarding invalidated tokens and mandates strict rejection of tokens not specifically issued for the MCP server.</li>
<li>Also covers session-ID compromise scenarios including prompt injection and impersonation attacks.</li>
</ul>
<p>As per official docs, this section should be read alongside the MCP Authorization specification and OAuth 2.0 security best practices<sup><a id="ref-10" href="#footnote-10">10</a></sup>.</p>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="structured-tool-output">Structured Tool Output<a href="#structured-tool-output" class="hash-link" aria-label="Direct link to Structured Tool Output" title="Direct link to Structured Tool Output">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-structured-vs-unstructured-output">1) Structured vs. Unstructured Output<a href="#1-structured-vs-unstructured-output" class="hash-link" aria-label="Direct link to 1) Structured vs. Unstructured Output" title="Direct link to 1) Structured vs. Unstructured Output">​</a></h3>
<p>Tools can now return structured JSON output in a new <code>structuredContent</code> field. With structured results, clients can parse responses programmatically (such as JSON objects). Previously, only unstructured plain text was allowed in the <code>content</code> field.</p>
<p>For instance, this is easier for apps to consume than parsing a plain string like <code>&quot;22.5°C, partly cloudy, humidity 65%&quot;</code>.</p>
<div class="relative overflow-hidden"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#181818"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#181818"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;structuredContent&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;temperature&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">22.5</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;conditions&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Partly cloudy&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;humidity&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">65</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre></div></div><button aria-label="Copy code" class="absolute top-[12px] right-4 z-20 bg-[rgba(24,24,24,0.85)] border-none rounded-none px-2 py-1 flex items-center cursor-pointer text-white font-sans"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 [filter:brightness(2)] ml-0.5"></button></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-backward-compatibility">2) Backward Compatibility<a href="#2-backward-compatibility" class="hash-link" aria-label="Direct link to 2) Backward Compatibility" title="Direct link to 2) Backward Compatibility">​</a></h3>
<p>To ensure older clients can still work without changes:</p>
<ul>
<li>Tools should still include a human-readable <code>text</code> block that describes the same output in unstructured form.</li>
<li>This dual output strategy makes structured content opt-in without breaking existing workflows.</li>
</ul>
<div class="relative overflow-hidden"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#181818"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#181818"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;content&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;type&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;text&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;text&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{\&quot;temperature\&quot;: 22.5, \&quot;conditions\&quot;: \&quot;Partly cloudy\&quot;, \&quot;humidity\&quot;: 65}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre></div></div><button aria-label="Copy code" class="absolute top-[12px] right-4 z-20 bg-[rgba(24,24,24,0.85)] border-none rounded-none px-2 py-1 flex items-center cursor-pointer text-white font-sans"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 [filter:brightness(2)] ml-0.5"></button></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-output-schema-support-optional">3) Output Schema Support (Optional)<a href="#3-output-schema-support-optional" class="hash-link" aria-label="Direct link to 3) Output Schema Support (Optional)" title="Direct link to 3) Output Schema Support (Optional)">​</a></h3>
<p>Tools can optionally define an <code>outputSchema</code>, a JSON Schema that describes the structure of the <code>structuredContent</code>. If an output schema is provided:</p>
<ul>
<li>Servers must provide structured results that conform to this schema.</li>
<li>Clients should validate structured results against this schema.</li>
</ul>
<p>✅ Benefits of this:</p>
<ul>
<li>Enables strict schema validation</li>
<li>Improves integration with typed languages (such as TypeScript, Go)</li>
<li>Makes tool responses predictable and self-documenting</li>
<li>Improves developer experience (DX)</li>
</ul>
<p>Example tool with output schema:</p>
<div class="relative overflow-hidden"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#181818"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#181818"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;name&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;get_price&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;title&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Price Checker&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;description&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Get current price of a product&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;inputSchema&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;type&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;object&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;properties&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;productId&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token property" style="color:#C586C0">&quot;type&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;string&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;required&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;productId&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;outputSchema&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;type&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;object&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;properties&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;price&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token property" style="color:#C586C0">&quot;type&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;number&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;currency&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token property" style="color:#C586C0">&quot;type&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;string&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;required&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;price&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;currency&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre></div></div><button aria-label="Copy code" class="absolute top-[12px] right-4 z-20 bg-[rgba(24,24,24,0.85)] border-none rounded-none px-2 py-1 flex items-center cursor-pointer text-white font-sans"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 [filter:brightness(2)] ml-0.5"></button></div>
<p>Example valid response for this tool:</p>
<div class="relative overflow-hidden"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#181818"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#181818"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;jsonrpc&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;2.0&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;id&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">42</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;result&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;content&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token property" style="color:#C586C0">&quot;type&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;text&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token property" style="color:#C586C0">&quot;text&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{\&quot;price\&quot;: 199.99, \&quot;currency\&quot;: \&quot;USD\&quot;}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;structuredContent&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;price&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">199.99</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;currency&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;USD&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre></div></div><button aria-label="Copy code" class="absolute top-[12px] right-4 z-20 bg-[rgba(24,24,24,0.85)] border-none rounded-none px-2 py-1 flex items-center cursor-pointer text-white font-sans"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 [filter:brightness(2)] ml-0.5"></button></div>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="support-for-elicitation-interactive-user-input">Support for Elicitation (Interactive User Input)<a href="#support-for-elicitation-interactive-user-input" class="hash-link" aria-label="Direct link to Support for Elicitation (Interactive User Input)" title="Direct link to Support for Elicitation (Interactive User Input)">​</a></h2>
<p>The new update adds elicitation support<sup><a id="ref-11" href="#footnote-11">11</a></sup>. A server can now ask the user for additional information mid-session by sending an <code>elicitation/create</code> request with a message and a JSON schema for expected data.</p>
<p>The protocol itself does not mandate any specific user interaction model and servers must not use elicitation to request sensitive information.</p>
<p>Clients that support elicitation must declare the <code>elicitation</code> capability during initialization.</p>
<div class="relative overflow-hidden"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#181818"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#181818"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;capabilities&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;elicitation&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre></div></div><button aria-label="Copy code" class="absolute top-[12px] right-4 z-20 bg-[rgba(24,24,24,0.85)] border-none rounded-none px-2 py-1 flex items-center cursor-pointer text-white font-sans"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 [filter:brightness(2)] ml-0.5"></button></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-creating-elicitation-requests">1) Creating Elicitation Requests<a href="#1-creating-elicitation-requests" class="hash-link" aria-label="Direct link to 1) Creating Elicitation Requests" title="Direct link to 1) Creating Elicitation Requests">​</a></h3>
<p>Servers can send an <code>elicitation/create</code> request with:</p>
<ul>
<li>A message to display</li>
<li>A JSON schema describing the expected user input</li>
</ul>
<p>The client shows a prompt and returns the user&#x27;s response (or a cancel/reject action if declined).</p>
<p>Request example:</p>
<div class="relative overflow-hidden"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#181818"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#181818"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;method&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;elicitation/create&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;params&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;message&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Please enter your email&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;requestedSchema&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;type&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;object&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;properties&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token property" style="color:#C586C0">&quot;email&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token property" style="color:#C586C0">&quot;type&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;string&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token property" style="color:#C586C0">&quot;format&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;email&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;required&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;email&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre></div></div><button aria-label="Copy code" class="absolute top-[12px] right-4 z-20 bg-[rgba(24,24,24,0.85)] border-none rounded-none px-2 py-1 flex items-center cursor-pointer text-white font-sans"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 [filter:brightness(2)] ml-0.5"></button></div>
<p>Response Example:</p>
<div class="relative overflow-hidden"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#181818"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#181818"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;jsonrpc&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;2.0&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;id&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;result&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;action&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;accept&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;content&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;email&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;user@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre></div></div><button aria-label="Copy code" class="absolute top-[12px] right-4 z-20 bg-[rgba(24,24,24,0.85)] border-none rounded-none px-2 py-1 flex items-center cursor-pointer text-white font-sans"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 [filter:brightness(2)] ml-0.5"></button></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-schema-based-input-validation">2) Schema-Based Input Validation<a href="#2-schema-based-input-validation" class="hash-link" aria-label="Direct link to 2) Schema-Based Input Validation" title="Direct link to 2) Schema-Based Input Validation">​</a></h3>
<ul>
<li>Input is guided by a simple JSON Schema (strings, numbers, enums, booleans).</li>
<li>Complex nesting is not supported, schemas are intentionally flat to keep client implementation easy.</li>
<li>This lets clients auto-generate input forms and validate responses before submission.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-response-types">3) Response Types<a href="#3-response-types" class="hash-link" aria-label="Direct link to 3) Response Types" title="Direct link to 3) Response Types">​</a></h3>
<p>Clients must return one of three clear actions:</p>
<ul>
<li><code>&quot;accept&quot;</code> : User submitted valid data (included in <code>content</code>)</li>
<li><code>&quot;reject&quot;</code> : User explicitly declined to provide data</li>
<li><code>&quot;cancel&quot;</code> : User dismissed the prompt without responding</li>
</ul>
<p>Here is the message flow.</p>
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/uf0z8khnvcc0c6ee9sni.png" alt="message flow" width="100%">
<figcaption>official docs</figcaption>
<p>If you are interested in reading more about response actions, request schema, and more security considerations, check the official docs.</p>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resource-links-in-tool-results">Resource Links in Tool Results<a href="#resource-links-in-tool-results" class="hash-link" aria-label="Direct link to Resource Links in Tool Results" title="Direct link to Resource Links in Tool Results">​</a></h2>
<p>Tools can now return <strong>resource links</strong> as part of their results. A <code>resource_link</code> contains a URI plus metadata (name, description, mimeType) pointing to additional context or data.</p>
<p>For example:</p>
<div class="relative overflow-hidden"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#181818"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#181818"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;type&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;resource_link&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;uri&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;file:///project/src/main.rs&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;name&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;main.rs&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;description&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Primary application entry point&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;mimeType&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;text/x-rust&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre></div></div><button aria-label="Copy code" class="absolute top-[12px] right-4 z-20 bg-[rgba(24,24,24,0.85)] border-none rounded-none px-2 py-1 flex items-center cursor-pointer text-white font-sans"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 [filter:brightness(2)] ml-0.5"></button></div>
<p>The client can then subscribe to or fetch this URI as needed. Like a tool telling the client: “Here’s a file you might want to explore, download, or open when needed.”</p>
<p>Resource links allow servers to “point” to files or resources instead of inlining them. They are not guaranteed to appear in the results of a <code>resources/list</code> request, they are more like meant for direct client retrieval when the link is provided.</p>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="protocol-version-enforcement-http">Protocol Version Enforcement (HTTP)<a href="#protocol-version-enforcement-http" class="hash-link" aria-label="Direct link to Protocol Version Enforcement (HTTP)" title="Direct link to Protocol Version Enforcement (HTTP)">​</a></h2>
<p>After the initial handshake, all HTTP requests to an MCP server must include the agreed-upon version in the <code>MCP-Protocol-Version: &lt;protocol-version&gt;</code> HTTP header on all subsequent requests to the MCP server.</p>
<p>This tells the server which version of the MCP spec the client is using. If the header contains an invalid or unsupported version, the server must reject the request with a <code>400 Bad Request</code>.</p>
<p>Why?</p>
<ul>
<li>Keeps the client and server in sync about protocol behavior.</li>
<li>Prevents subtle bugs or mismatches when multiple protocol versions are supported.</li>
<li>Acts as a form of version locking between sessions.</li>
</ul>
<p>Example request:</p>
<div class="relative overflow-hidden"><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#181818"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#181818"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">GET /mcp-server/tools/list HTTP/1.1</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">Host: api.example.com</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">MCP-Protocol-Version: 2025-06-18</span><br></span></code></pre></div></div><button aria-label="Copy code" class="absolute top-[12px] right-4 z-20 bg-[rgba(24,24,24,0.85)] border-none rounded-none px-2 py-1 flex items-center cursor-pointer text-white font-sans"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 [filter:brightness(2)] ml-0.5"></button></div>
<p>For backward compatibility, if the server doesn’t get the <code>MCP-Protocol-Version</code> header and can’t detect the version in any other way (by relying on the protocol version negotiated during initialization), it should assume the version is <code>2025-03-26</code>.</p>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="json-rpc-batching-removed">JSON-RPC batching removed<a href="#json-rpc-batching-removed" class="hash-link" aria-label="Direct link to JSON-RPC batching removed" title="Direct link to JSON-RPC batching removed">​</a></h2>
<p>The spec no longer supports JSON-RPC 2.0 batching<sup><a id="ref-12" href="#footnote-12">12</a></sup>. It means each JSON-RPC call must be sent as its own message (one JSON object per request) rather than an array of calls.</p>
<p>If your SDK or application was sending multiple JSON-RPC calls in a single batch request (an array), it will now break as MCP servers will reject it starting with version <code>2025-06-18</code>.</p>
<p>For example:</p>
<div class="relative overflow-hidden"><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#181818"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#181818"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">POST /mcp  [{ &quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;method&quot;: &quot;foo&quot;, &quot;id&quot;: 1 }, { &quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;method&quot;: &quot;bar&quot;, &quot;id&quot;: 2 }]</span><br></span></code></pre></div></div><button aria-label="Copy code" class="absolute top-[12px] right-4 z-20 bg-[rgba(24,24,24,0.85)] border-none rounded-none px-2 py-1 flex items-center cursor-pointer text-white font-sans"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 [filter:brightness(2)] ml-0.5"></button></div>
<p>Update your client logic to send one request per call. This might involve disabling batching in your JSON-RPC library or restructuring your request pipeline.</p>
<p>I was checking the GitHub PR discussion (#416)<sup><a id="ref-13" href="#footnote-13">13</a></sup> and found “no compelling use cases” for actually removing it.</p>
<p>The official JSON-RPC documentation explicitly says a client “MAY send an Array” of requests and the server “SHOULD respond with an Array” of results. MCP’s new rule essentially forbids that. Several reviewers pointed out this break with the standard but the spec authors chose to make the change explicit.</p>
<p>Not supporting batching breaks away from JSON-RPC. Any SDK that&#x27;s using a JSON-RPC library under the hood might run into problems with turning off batching.</p>
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ktaimnavo5nq2836a7ri.png" alt="removing JSON-RPC batching support" width="100%">
<p>I think removing JSON-RPC batching support when the protocol version is <code>&gt;= 2025-06-18</code> would have made much more sense.</p>
<p>This change is also not backward compatible (breaking for older clients/servers) so any MCP client that supports <code>2025-03-26</code> might not work with an MCP server that only supports <code>2025-06-18</code>.</p>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="other-notable-changes">Other Notable Changes<a href="#other-notable-changes" class="hash-link" aria-label="Direct link to Other Notable Changes" title="Direct link to Other Notable Changes">​</a></h2>
<p>Several new fields were added for flexibility:</p>
<ul>
<li>
<p><code>_meta</code> was added to various interface objects for implementation metadata.</p>
</li>
<li>
<p><code>context</code> was added to <code>CompletionRequest</code> to allow sending previously resolved variables along with completion requests.</p>
</li>
<li>
<p><code>title</code> fields were introduced on many objects to hold human-friendly display names (separate from the machine <code>name</code>).</p>
</li>
</ul>
<p>They also changed <code>SHOULD</code> to <code>MUST</code> in Lifecycle Operation which says both parties must respect the negotiated protocol version<sup><a id="ref-14" href="#footnote-14">14</a></sup>.</p>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-bottom-line">The Bottom Line<a href="#the-bottom-line" class="hash-link" aria-label="Direct link to The Bottom Line" title="Direct link to The Bottom Line">​</a></h2>
<p>These updates are a step forward for the MCP ecosystem. These directly affect how secure, stable and forward-compatible your MCP integrations will be. Ignoring them could lead to broken client-server interactions, token misuse or rejected requests.</p>
<p>This made MCP integrations much more secure (using OAuth 2.0 conventions and token binding) and more capable because of structured data and user prompts.</p>
<p>All these changes are active as of <code>2025-06-18</code>. Any MCP server or client that doesn’t adopt the updated practices risks non-compliance with the current spec and future compatibility issues.</p>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="footnotes">Footnotes<a href="#footnotes" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<p><a id="footnote-1"></a><strong>1.</strong> Anthropic. &quot;Model Context Protocol June Specification Major Changes.&quot; Changelog. <a href="https://modelcontextprotocol.io/specification/2025-06-18/changelog" target="_blank" rel="noopener noreferrer">https://modelcontextprotocol.io/specification/2025-06-18/changelog</a> <a href="#ref-1">↩</a></p>
<p><a id="footnote-2"></a><strong>2.</strong> Anthropic. &quot;Model Context Protocol.&quot; GitHub Repository. <a href="https://github.com/modelcontextprotocol/modelcontextprotocol" target="_blank" rel="noopener noreferrer">https://github.com/modelcontextprotocol/modelcontextprotocol</a> <a href="#ref-2">↩</a></p>
<p><a id="footnote-3"></a><strong>3.</strong> ByteByteGo. &quot;What is MCP?&quot; Blog. <a href="https://blog.bytebytego.com/p/ep154-what-is-mcp" target="_blank" rel="noopener noreferrer">https://blog.bytebytego.com/p/ep154-what-is-mcp</a> <a href="#ref-3">↩</a></p>
<p><a id="footnote-4"></a><strong>4.</strong> Forge. &quot;MCP Security is Broken: Here&#x27;s How to Fix It&quot;. <a href="https://forgecode.dev/blog/prevent-attacks-on-mcp-part2/" target="_blank" rel="noopener noreferrer">https://forgecode.dev/blog/prevent-attacks-on-mcp-part2/</a> <a href="#ref-4">↩</a></p>
<p><a id="footnote-5"></a><strong>5.</strong> IETF. “Protected Resource Metadata.” RFC 9728. <a href="https://datatracker.ietf.org/doc/html/rfc9728" target="_blank" rel="noopener noreferrer">https://datatracker.ietf.org/doc/html/rfc9728</a> <a href="#ref-5">↩</a></p>
<p><a id="footnote-6"></a><strong>6.</strong> Anthropic. “Authorization Server Discovery.” MCP Spec: Authorization. <a href="https://modelcontextprotocol.io/specification/2025-06-18/basic/authorization#authorization-server-discovery" target="_blank" rel="noopener noreferrer">https://modelcontextprotocol.io/specification/2025-06-18/basic/authorization#authorization-server-discovery</a> <a href="#ref-6">↩</a></p>
<p><a id="footnote-7"></a><strong>7.</strong> Auth0. “MCP Specs Update: All About Auth.” Auth0 Blog. <a href="https://auth0.com/blog/mcp-specs-update-all-about-auth/" target="_blank" rel="noopener noreferrer">https://auth0.com/blog/mcp-specs-update-all-about-auth/</a> <a href="#ref-7">↩</a></p>
<p><a id="footnote-8"></a><strong>8.</strong> Anthropic. “Security Considerations.” MCP June Spec. <a href="https://modelcontextprotocol.io/specification/2025-06-18/basic/authorization#security-considerations" target="_blank" rel="noopener noreferrer">https://modelcontextprotocol.io/specification/2025-06-18/basic/authorization#security-considerations</a> <a href="#ref-8">↩</a></p>
<p><a id="footnote-9"></a><strong>9.</strong> Anthropic. “Security Best Practices.” MCP Spec. <a href="https://modelcontextprotocol.io/specification/2025-06-18/basic/security_best_practices" target="_blank" rel="noopener noreferrer">https://modelcontextprotocol.io/specification/2025-06-18/basic/security_best_practices</a> <a href="#ref-9">↩</a></p>
<p><a id="footnote-10"></a><strong>10.</strong> IETF. “JSON Web Token (JWT) Profile for OAuth 2.0 Access Tokens.” RFC 9700. <a href="https://datatracker.ietf.org/doc/html/rfc9700" target="_blank" rel="noopener noreferrer">https://datatracker.ietf.org/doc/html/rfc9700</a> <a href="#ref-10">↩</a></p>
<p><a id="footnote-11"></a><strong>11.</strong> Anthropic. “Elicitation.” MCP Spec: Client Capabilities. <a href="https://modelcontextprotocol.io/specification/2025-06-18/client/elicitation" target="_blank" rel="noopener noreferrer">https://modelcontextprotocol.io/specification/2025-06-18/client/elicitation</a> <a href="#ref-11">↩</a></p>
<p><a id="footnote-12"></a><strong>12.</strong> JSON-RPC. “Batching.” JSON-RPC 2.0 Specification. <a href="https://www.jsonrpc.org/specification#batch" target="_blank" rel="noopener noreferrer">https://www.jsonrpc.org/specification#batch</a> <a href="#ref-12">↩</a></p>
<p><a id="footnote-13"></a><strong>13.</strong> Anthropic. “Pull Request #416: Add Protocol Version Header Enforcement.” GitHub PR. <a href="https://github.com/modelcontextprotocol/modelcontextprotocol/pull/416" target="_blank" rel="noopener noreferrer">https://github.com/modelcontextprotocol/modelcontextprotocol/pull/416</a> <a href="#ref-13">↩</a></p>
<p><a id="footnote-14"></a><strong>14.</strong> Anthropic. “Operation Lifecycle.” MCP Spec: Lifecycle. <a href="https://modelcontextprotocol.io/specification/2025-06-18/basic/lifecycle#operation" target="_blank" rel="noopener noreferrer">https://modelcontextprotocol.io/specification/2025-06-18/basic/lifecycle#operation</a> <a href="#ref-14">↩</a></p></div><footer class="docusaurus-mt-lg"><h1 class="text-[12px]">Posted By</h1><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_q4o9"><div class="flex items-center gap-3"><div class="flex-shrink-0"><img src="https://avatars.githubusercontent.com/u/74038190?v=4" alt="Anmol" class="w-10 h-10 rounded-full object-cover border-2 border-gray-100 shadow-sm"></div><div class="flex-1 min-w-0"><div class="mb-1"><a href="https://github.com/Anmol-Baranwal" target="_blank" rel="noopener noreferrer" class="font-semibold text-gray-900 hover:text-blue-600 transition-colors no-underline">Anmol</a></div><div class="flex items-center gap-1.5"><a href="https://github.com/Anmol-Baranwal" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-700 transition-colors p-0.5 hover:bg-gray-100 rounded" aria-label="Anmol on github"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a><a href="https://twitter.com/Anmol_Codes" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-700 transition-colors p-0.5 hover:bg-gray-100 rounded" aria-label="Anmol on twitter"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></a><a href="https://www.linkedin.com/in/Anmol-Baranwal/" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-700 transition-colors p-0.5 hover:bg-gray-100 rounded" aria-label="Anmol on linkedin"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a></div></div></div></div></div></footer></article><div class="fixed left-2 sm:left-4 lg:left-8 xl:left-16 z-40 transition-all duration-300 ease-in-out flex opacity-0 translate-y-4" style="top:300px;transform:translateY(16px)" role="complementary" aria-label="Social sharing buttons"><div class="flex flex-col gap-2 sm:gap-3"><div class="text-xs font-medium text-gray-600 mb-1 transform -rotate-90 origin-center whitespace-nowrap hidden sm:block">Share</div><button class="group relative w-10 h-10 sm:w-12 sm:h-12 bg-white rounded-full shadow-md hover:shadow-lg transition-all duration-200 ease-in-out border-4 border-gray-200 hover:border-yellow-400 flex items-center justify-center hover:scale-105 hover:bg-yellow-50" aria-label="Share &quot;MCP 2025-06-18 Spec Update: Security, Structured Output &amp; Elicitation&quot; on X (Twitter)" title="Share on X"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 28 28" class="w-4 h-4 sm:w-5 sm:h-5 group-hover:opacity-80 transition-opacity duration-200"><path fill="#1a1a1a" d="M18.745 6.428h2.53l-5.528 6.318 6.503 8.597h-5.092l-3.988-5.215-4.563 5.215H6.076l5.912-6.758L5.75 6.428h5.22l3.605 4.766zm-.888 13.4h1.402l-9.05-11.965H8.705z"></path></svg><div class="absolute left-full ml-3 px-2 py-1 bg-gray-900 text-tailCall-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap hidden sm:block">Share on X</div></button><button class="group relative w-10 h-10 sm:w-12 sm:h-12 bg-white rounded-full shadow-md hover:shadow-lg transition-all duration-200 ease-in-out border-4 border-gray-200 hover:border-yellow-400 flex items-center justify-center hover:scale-105 hover:bg-yellow-50" aria-label="Share &quot;MCP 2025-06-18 Spec Update: Security, Structured Output &amp; Elicitation&quot; on LinkedIn" title="Share on LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="w-4 h-4 sm:w-5 sm:h-5 group-hover:opacity-80 transition-opacity duration-200"><mask id="a" width="18" height="18" x="3" y="3" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" d="M21 3H3v18h18z"></path></mask><g mask="url(#a)"><path fill="#1a1a1a" d="M8.178 19V9.554H5.177V19zm-1.5-10.736c1.046 0 1.698-.725 1.698-1.632C8.356 5.705 7.724 5 6.698 5 5.671 5 5 5.705 5 6.632c0 .907.651 1.632 1.658 1.632zM9.84 19h3.001v-5.275c0-.282.02-.564.099-.766.217-.564.71-1.148 1.54-1.148 1.086 0 1.52.866 1.52 2.136V19H19v-5.416c0-2.902-1.48-4.252-3.455-4.252-1.619 0-2.33.947-2.725 1.591h.02v-1.37h-3c.039.887 0 9.447 0 9.447"></path></g></svg><div class="absolute left-full ml-3 px-2 py-1 bg-gray-900 text-tailCall-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap hidden sm:block">Share on LinkedIn</div></button><div class="mt-2 text-[12px] text-gray-500 max-w-[120px] leading-tight hidden xl:block">Found this helpful? Share it with your network!</div></div></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="!no-underline flex gap-3 items-center" href="/blog/forge-v0.98.0-release-article/"><div class="w-10 h-10 p-2 bg-tailCall-yellow flex justify-center items-center rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg></div><div class="hidden md:block"><div class="text-tailCall-dark-100 text-[12px] font-medium">Newer post</div><div class="pagination-nav__label text-black text-content-small font-medium">Forge v0.98.0: Integrated Authentication and Developer Experience Improvements</div></div></a><a class="!no-underline flex gap-3 items-center" href="/blog/simple-is-not-easy/"><div class="hidden md:block"><div class="text-tailCall-dark-100 text-[12px] font-medium">Older post</div><div class="pagination-nav__label text-black text-content-small font-medium">Simple Over Easy: Architectural Constraints That Make AI Generated Code Maintainable</div></div><div class="w-10 h-10 p-2 bg-tailCall-yellow flex justify-center items-center rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></div></a></nav></div><div class="hidden lg:block lg:w-[20.83%] pl-8 mt-12"><div class="sticky top-28"><div class="border-l-solid border-gray-200 pl-4"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tldr" class="table-of-contents__link toc-highlight">TL;DR</a></li><li><a href="#whats-mcp-and-why-should-i-care" class="table-of-contents__link toc-highlight">What&#39;s MCP and Why Should I Care?</a></li><li><a href="#oauth-20-resource-server-classification" class="table-of-contents__link toc-highlight">OAuth 2.0 Resource Server Classification</a></li><li><a href="#resource-indicators-rfc-8707-to-prevent-token-misuse" class="table-of-contents__link toc-highlight">Resource Indicators (RFC 8707) to prevent Token Misuse</a></li><li><a href="#updated-security-documentation" class="table-of-contents__link toc-highlight">Updated Security Documentation</a><ul><li><a href="#1-resource-indicators--audience-binding-discussed-earlier" class="table-of-contents__link toc-highlight">1) Resource Indicators &amp; Audience Binding (discussed earlier)</a></li><li><a href="#2-preventing-token-theft" class="table-of-contents__link toc-highlight">2) Preventing Token Theft</a></li><li><a href="#3-communication-security" class="table-of-contents__link toc-highlight">3) Communication Security</a></li><li><a href="#4-authorization-code-protection-pkce" class="table-of-contents__link toc-highlight">4) Authorization Code Protection (PKCE)</a></li><li><a href="#5-open-redirection" class="table-of-contents__link toc-highlight">5) Open Redirection</a></li><li><a href="#6-confused-deputy-prevention" class="table-of-contents__link toc-highlight">6) Confused Deputy Prevention</a></li><li><a href="#7-token-audience-validation" class="table-of-contents__link toc-highlight">7) Token Audience Validation</a></li></ul></li><li><a href="#new-security-best-practices-page" class="table-of-contents__link toc-highlight">New Security Best Practices page</a></li><li><a href="#structured-tool-output" class="table-of-contents__link toc-highlight">Structured Tool Output</a><ul><li><a href="#1-structured-vs-unstructured-output" class="table-of-contents__link toc-highlight">1) Structured vs. Unstructured Output</a></li><li><a href="#2-backward-compatibility" class="table-of-contents__link toc-highlight">2) Backward Compatibility</a></li><li><a href="#3-output-schema-support-optional" class="table-of-contents__link toc-highlight">3) Output Schema Support (Optional)</a></li></ul></li><li><a href="#support-for-elicitation-interactive-user-input" class="table-of-contents__link toc-highlight">Support for Elicitation (Interactive User Input)</a><ul><li><a href="#1-creating-elicitation-requests" class="table-of-contents__link toc-highlight">1) Creating Elicitation Requests</a></li><li><a href="#2-schema-based-input-validation" class="table-of-contents__link toc-highlight">2) Schema-Based Input Validation</a></li><li><a href="#3-response-types" class="table-of-contents__link toc-highlight">3) Response Types</a></li></ul></li><li><a href="#resource-links-in-tool-results" class="table-of-contents__link toc-highlight">Resource Links in Tool Results</a></li><li><a href="#protocol-version-enforcement-http" class="table-of-contents__link toc-highlight">Protocol Version Enforcement (HTTP)</a></li><li><a href="#json-rpc-batching-removed" class="table-of-contents__link toc-highlight">JSON-RPC batching removed</a></li><li><a href="#other-notable-changes" class="table-of-contents__link toc-highlight">Other Notable Changes</a></li><li><a href="#the-bottom-line" class="table-of-contents__link toc-highlight">The Bottom Line</a></li><li><a href="#footnotes" class="table-of-contents__link toc-highlight">Footnotes</a></li></ul></div></div></div></div></div></div></div><footer class="flex flex-col relative w-full relative px-4 py-8 lg:px-40 lg:pt-20 lg:pb-0 bg-tailCall-dark-700 grid-dark gap-4 lg:gap-8"><div class="grid grid-cols-2 gap-8 lg:flex lg:gap-32 xl:gap-64 w-full z-10"><span class="text-2xl font-semibold text-tailCall-white col-span-2 h-10 flex items-center"><img src="/images/home/logo-light.svg" alt="footer logo" height="30"></span><div class="flex flex-col gap-4 lg:gap-6"><span class="text-content-small font-bold lg:text-title-small text-tailCall-white leading-[20px] lg:leading-[26px]">Developers</span><a class="text-content-small lg:text-content-medium text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline leading-[20px] lg:leading-[26px]" href="/docs/">Docs</a><a class="text-content-small lg:text-content-medium text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline leading-[20px] lg:leading-[26px]" href="/blog/">Blogs</a><a class="text-content-small lg:text-content-medium text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline leading-[20px] lg:leading-[26px]" href="/releases/">Releases</a></div><div class="flex flex-col gap-4 lg:gap-6"><span class="text-content-small font-bold lg:text-title-small text-tailCall-white leading-[20px] lg:leading-[26px]">Company</span><a class="text-content-small lg:text-content-medium text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline leading-[20px] lg:leading-[26px]" href="/pricing/">Pricing</a><a class="text-content-small lg:text-content-medium text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline leading-[20px] lg:leading-[26px]" href="/privacy/">Privacy Policy</a><a href="https://forms.gle/F8dQkLqtCsFwctLa6" target="_blank" rel="noopener noreferrer" class="text-content-small lg:text-content-medium text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline leading-[20px] lg:leading-[26px]">We&#x27;re Hiring</a></div></div><div class="flex flex-col lg:flex-row items-center lg:justify-between w-[100%] lg:w-full z-10 py-2 lg:py-6 gap-2 lg:gap-0"><p class="text-content-mini lg:text-content-tiny text-tailCall-light-700 font-space-mono font-normal cursor-pointer mb-0">Cookie Settings</p><p class="text-content-mini lg:text-content-tiny text-tailCall-light-700 font-space-mono font-normal mb-0">Copyright © <!-- -->2025<!-- --> Tailcall, Inc.</p><div class="space-x-SPACE_04"><a href="https://github.com/antinomyhq/forge" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="h-6 w-6"><g clip-path="url(#a)"><path fill="#B6B6B7" fill-rule="evenodd" d="M11.967 1C5.903 1 1 6.042 1 12.279c0 4.986 3.141 9.206 7.5 10.7.544.112.743-.243.743-.542 0-.261-.017-1.157-.017-2.091C6.175 21.018 5.539 19 5.539 19c-.49-1.307-1.216-1.643-1.216-1.643-.999-.69.072-.69.072-.69 1.108.074 1.69 1.157 1.69 1.157.98 1.718 2.56 1.232 3.195.934.09-.729.381-1.233.69-1.513-2.433-.261-4.993-1.232-4.993-5.565 0-1.232.435-2.24 1.125-3.025-.109-.28-.49-1.438.11-2.988 0 0 .925-.298 3.013 1.158a10.3 10.3 0 0 1 2.742-.373c.926 0 1.87.13 2.742.373 2.088-1.456 3.014-1.158 3.014-1.158.6 1.55.218 2.708.109 2.988.708.784 1.126 1.793 1.126 3.025 0 4.333-2.56 5.285-5.012 5.565.4.355.745 1.027.745 2.092 0 1.512-.018 2.726-.018 3.1 0 .298.2.653.744.54 4.358-1.493 7.5-5.713 7.5-10.7C22.933 6.043 18.013 1 11.966 1" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M1 1h22v22H1z"></path></clipPath></defs></svg></a><a href="https://discord.gg/kRZBPpkgwq" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="h-6 w-6"><mask id="a" width="20" height="16" x="2" y="4" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" d="M22 4H2v16h20z"></path></mask><g mask="url(#a)"><path fill="#B6B6B7" d="M18.93 5.425a16.1 16.1 0 0 0-4.07-1.304.06.06 0 0 0-.066.032c-.175.323-.37.744-.506 1.075a14.8 14.8 0 0 0-4.573 0A11 11 0 0 0 9.2 4.153a.06.06 0 0 0-.065-.032 16 16 0 0 0-4.07 1.304.06.06 0 0 0-.028.024c-2.593 4-3.303 7.902-2.954 11.756a.07.07 0 0 0 .026.048 16.4 16.4 0 0 0 4.994 2.608.06.06 0 0 0 .07-.024 12.3 12.3 0 0 0 1.022-1.716.066.066 0 0 0-.035-.091 11 11 0 0 1-1.56-.768.068.068 0 0 1-.007-.11q.159-.122.31-.251a.06.06 0 0 1 .065-.01c3.273 1.544 6.817 1.544 10.051 0a.06.06 0 0 1 .066.01c.1.084.205.17.31.25a.068.068 0 0 1-.005.11q-.747.45-1.561.768a.067.067 0 0 0-.034.091c.3.601.643 1.173 1.02 1.716a.06.06 0 0 0 .07.025 16.3 16.3 0 0 0 5.003-2.608.07.07 0 0 0 .026-.047c.417-4.455-.699-8.325-2.957-11.756a.05.05 0 0 0-.026-.025M8.684 14.86c-.985 0-1.797-.935-1.797-2.082 0-1.148.796-2.082 1.797-2.082 1.01 0 1.814.943 1.798 2.082 0 1.147-.796 2.082-1.798 2.082m6.646 0c-.985 0-1.797-.935-1.797-2.082 0-1.148.796-2.082 1.797-2.082 1.009 0 1.813.943 1.797 2.082 0 1.147-.788 2.082-1.797 2.082"></path></g></svg></a><a href="https://www.linkedin.com/company/forgecodehq" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="h-6 w-6"><mask id="a" width="18" height="18" x="3" y="3" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" d="M21 3H3v18h18z"></path></mask><g mask="url(#a)"><path fill="#B6B6B7" d="M8.178 19V9.554H5.177V19zm-1.5-10.736c1.046 0 1.698-.725 1.698-1.632C8.356 5.705 7.724 5 6.698 5 5.671 5 5 5.705 5 6.632c0 .907.651 1.632 1.658 1.632zM9.84 19h3.001v-5.275c0-.282.02-.564.099-.766.217-.564.71-1.148 1.54-1.148 1.086 0 1.52.866 1.52 2.136V19H19v-5.416c0-2.902-1.48-4.252-3.455-4.252-1.619 0-2.33.947-2.725 1.591h.02v-1.37h-3c.039.887 0 9.447 0 9.447"></path></g></svg></a><a href="https://x.com/forgecodehq" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 28 28" class="h-6 w-6"><path fill="#B6B6B7" d="M18.745 6.428h2.53l-5.528 6.318 6.503 8.597h-5.092l-3.988-5.215-4.563 5.215H6.076l5.912-6.758L5.75 6.428h5.22l3.605 4.766zm-.888 13.4h1.402l-9.05-11.965H8.705z"></path></svg></a></div></div></footer></div>
</body>
</html>