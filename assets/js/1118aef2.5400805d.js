"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3112],{6752:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"sandbox-feature","title":"Sandbox - Isolated Agent Workspaces","description":"Create isolated development environments using Git worktrees for parallel agent work without conflicts","source":"@site/docs/sandbox-feature.md","sourceDirName":".","slug":"/sandbox-feature","permalink":"/docs/sandbox-feature","draft":false,"unlisted":false,"editUrl":"https://github.com/Forge Code/antinomyhq.github.io/tree/main/docs/sandbox-feature.md","tags":[],"version":"current","lastUpdatedAt":1759230369000,"sidebarPosition":7,"frontMatter":{"title":"Sandbox - Isolated Agent Workspaces","slug":"/sandbox-feature","sidebar_position":7,"description":"Create isolated development environments using Git worktrees for parallel agent work without conflicts","sidebar_label":"Agent Sandbox"},"sidebar":"docs","previous":{"title":"Project Guidelines","permalink":"/docs/custom-rules"},"next":{"title":"Plan First, Then Act","permalink":"/docs/plan-and-act-guide"}}');var r=t(4848),i=t(8453);const s={title:"Sandbox - Isolated Agent Workspaces",slug:"/sandbox-feature",sidebar_position:7,description:"Create isolated development environments using Git worktrees for parallel agent work without conflicts",sidebar_label:"Agent Sandbox"},o=void 0,l={},d=[{value:"Requirements",id:"requirements",level:2},{value:"Why Sandboxes Matter for Agent Work",id:"why-sandboxes-matter-for-agent-work",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Creating a New Sandbox for Agent Work",id:"creating-a-new-sandbox-for-agent-work",level:3},{value:"Reusing an Existing Sandbox",id:"reusing-an-existing-sandbox",level:3},{value:"Agent-Specific Use Cases",id:"agent-specific-use-cases",level:2},{value:"Parallel Feature Development",id:"parallel-feature-development",level:3},{value:"Safe Experimentation",id:"safe-experimentation",level:3},{value:"Incremental Refactoring",id:"incremental-refactoring",level:3},{value:"Bug Investigation and Fixes",id:"bug-investigation-and-fixes",level:3},{value:"Managing Agent Sandboxes",id:"managing-agent-sandboxes",level:2},{value:"Viewing Active Sandboxes",id:"viewing-active-sandboxes",level:3},{value:"Cleanup After Agent Work",id:"cleanup-after-agent-work",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"The Sandbox feature in Forge creates isolated development environments using Git worktrees. This allows agents to work on different tasks, experiments, or features in parallel without interfering with each other or your main codebase."}),"\n",(0,r.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Git Repository"}),": Must be inside a Git repository"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parent Directory Access"}),": Sandboxes are created in the parent directory of the repo root"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Unique Names"}),": Each sandbox name must be unique"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Learn More About Git Worktrees",type:"info",children:(0,r.jsxs)(n.p,{children:["Forge sandboxes are built on ",(0,r.jsx)(n.a,{href:"https://git-scm.com/docs/git-worktree",children:"Git worktrees"}),". For advanced worktree management, error handling, and low-level details, refer to the official Git documentation."]})}),"\n",(0,r.jsx)(n.h2,{id:"why-sandboxes-matter-for-agent-work",children:"Why Sandboxes Matter for Agent Work"}),"\n",(0,r.jsx)(n.p,{children:"Sandboxes help agents avoid file conflicts and enable true parallel execution by giving each agent task its own isolated environment without interfering with ongoing work."}),"\n",(0,r.jsx)(n.p,{children:"Traditional single-workspace approach:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Agent 1 is refactoring authentication\nforge "refactor the auth module"\n\n# Agent 2 needs to fix a bug, but has to wait\n# Or worse, both agents modify the same files simultaneously\n'})}),"\n",(0,r.jsx)(n.p,{children:"Sandbox workflow with agents:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Agent 1 works on auth refactoring in isolated sandbox\nforge --sandbox refactor-auth "refactor the auth module"\n\n# Agent 2 fixes bug in separate sandbox (simultaneously)\nforge --sandbox bugfix-payment "fix payment validation bug"\n\n# Both agents work independently, no conflicts\n'})}),"\n",(0,r.jsx)(n.p,{children:"With sandboxes, each agent task gets its own isolated directory, no conflicts, no waiting, no interference between parallel operations."}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"your-project/           # Your main repository\n\u251c\u2500\u2500 src/\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 README.md\n\n../refactor-auth/       # Agent 1's isolated workspace\n\u251c\u2500\u2500 src/               # Same files, independent changes\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 README.md\n\n../bugfix-payment/      # Agent 2's isolated workspace\n\u251c\u2500\u2500 src/               # Same files, different changes\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 README.md\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Each sandbox is a ",(0,r.jsx)(n.strong,{children:"Git worktree"})," - a separate working directory that shares the same ",(0,r.jsx)(n.code,{children:".git"})," repository but allows independent changes and branches."]}),"\n",(0,r.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,r.jsx)(n.h3,{id:"creating-a-new-sandbox-for-agent-work",children:"Creating a New Sandbox for Agent Work"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Create a sandbox for authentication work\nforge --sandbox feature-auth "implement JWT authentication"\n'})}),"\n",(0,r.jsx)(n.p,{children:"This command:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Checks if you're in a Git repository (required)"}),"\n",(0,r.jsxs)(n.li,{children:["Creates a new worktree in ",(0,r.jsx)(n.code,{children:"../feature-auth/"})]}),"\n",(0,r.jsxs)(n.li,{children:["Creates or reuses a branch named ",(0,r.jsx)(n.code,{children:"feature-auth"})]}),"\n",(0,r.jsx)(n.li,{children:"Starts the Forge agent in the isolated sandbox directory"}),"\n",(0,r.jsx)(n.li,{children:"The agent works exclusively in this environment"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"reusing-an-existing-sandbox",children:"Reusing an Existing Sandbox"}),"\n",(0,r.jsx)(n.p,{children:"If a sandbox already exists, Forge will detect it and let the agent continue work there:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Agent continues work in existing sandbox\nforge --sandbox feature-auth "add refresh token support"\n'})}),"\n",(0,r.jsx)(n.p,{children:"The system will show:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Worktree [Reused]\n../feature-auth/\n"})}),"\n",(0,r.jsx)(n.p,{children:"The agent resumes work in the existing sandbox."}),"\n",(0,r.jsx)(n.h2,{id:"agent-specific-use-cases",children:"Agent-Specific Use Cases"}),"\n",(0,r.jsx)(n.h3,{id:"parallel-feature-development",children:"Parallel Feature Development"}),"\n",(0,r.jsx)(n.p,{children:"Run multiple agents simultaneously on different features:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Terminal 1: Agent working on authentication\nforge --sandbox feature-auth "implement OAuth2 flow"\n\n# Terminal 2: Agent working on payments\nforge --sandbox feature-payments "integrate Stripe API"\n\n# Terminal 3: Agent working on UI\nforge --sandbox feature-dashboard "redesign user dashboard"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Each agent operates independently without interfering with others."}),"\n",(0,r.jsx)(n.h3,{id:"safe-experimentation",children:"Safe Experimentation"}),"\n",(0,r.jsx)(n.p,{children:"Let agents try different approaches without conflicts:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Agent tries architectural approach A\nforge --sandbox experiment-redux "refactor state management with Redux"\n\n# Agent tries architectural approach B\nforge --sandbox experiment-zustand "refactor state management with Zustand"\n\n# Compare results, keep the better implementation\n'})}),"\n",(0,r.jsx)(n.h3,{id:"incremental-refactoring",children:"Incremental Refactoring"}),"\n",(0,r.jsx)(n.p,{children:"Break large refactoring tasks into isolated sandbox sessions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Session 1: Agent refactors data layer\nforge --sandbox refactor-data-layer "migrate database queries to Prisma"\n\n# Session 2: Agent refactors API layer\nforge --sandbox refactor-api-layer "convert REST endpoints to GraphQL"\n\n# Session 3: Agent refactors frontend\nforge --sandbox refactor-frontend "update components to use new API"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"bug-investigation-and-fixes",children:"Bug Investigation and Fixes"}),"\n",(0,r.jsx)(n.p,{children:"Isolate bug fixes from ongoing feature work:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Main work continues in your main repository\nforge "continue implementing user profiles"\n\n# Bug fix happens in separate sandbox\nforge --sandbox hotfix-login "fix OAuth redirect loop"\n\n# Main work remains untouched, bug fix can be merged independently\n'})}),"\n",(0,r.jsx)(n.h2,{id:"managing-agent-sandboxes",children:"Managing Agent Sandboxes"}),"\n",(0,r.jsx)(n.h3,{id:"viewing-active-sandboxes",children:"Viewing Active Sandboxes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# List all active worktrees/sandboxes\ngit worktree list\n"})}),"\n",(0,r.jsx)(n.p,{children:"Shows all sandboxes where agents have been working."}),"\n",(0,r.jsx)(n.h3,{id:"cleanup-after-agent-work",children:"Cleanup After Agent Work"}),"\n",(0,r.jsx)(n.p,{children:"Sandboxes persist after the agent completes work. Clean up regularly to keep your workspace organized:"}),"\n",(0,r.jsx)(n.admonition,{title:"Best Practice",type:"tip",children:(0,r.jsx)(n.p,{children:"Clean up sandboxes after merging changes to keep your workspace organized. The branch remains in your repository even after removing the worktree."})}),"\n",(0,r.jsx)(n.admonition,{title:"Uncommitted Changes",type:"warning",children:(0,r.jsxs)(n.p,{children:["If you have uncommitted changes in a sandbox, ",(0,r.jsx)(n.code,{children:"git worktree remove"})," will fail by default. Either commit your changes first or use ",(0,r.jsx)(n.code,{children:"git worktree remove --force"})," to discard them."]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Remove completed sandbox (run from main repository)\ngit worktree remove ../feature-auth\n\n# Or delete directory and prune\nrm -rf ../feature-auth\ngit worktree prune\n\n# List remaining sandboxes\ngit worktree list\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var a=t(6540);const r={},i=a.createContext(r);function s(e){const n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);