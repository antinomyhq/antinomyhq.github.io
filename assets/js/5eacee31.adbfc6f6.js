"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4947],{9289:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var s=n(467),i=n(4848),r=n(8453);const o={slug:"forge-incident-12-july-2025-rca-2",title:"Root Cause Analysis: Forge Quality Degradation on July 12",authors:["tushar"],date:new Date("2025-07-18T00:00:00.000Z"),description:"A detailed analysis of the Forge quality issues that occurred on July 12, 2025, including root cause, impact, and steps taken to prevent future incidents.",tags:["incident","forge","RCA"]},a=void 0,l={authorsImageUrls:[void 0]},u=[{value:"What Happened",id:"what-happened",level:2},{value:"Root Cause",id:"root-cause",level:2},{value:"Why We Did This",id:"why-we-did-this",level:2},{value:"What We&#39;ve Done",id:"what-weve-done",level:2},{value:"What We&#39;re Changing",id:"what-were-changing",level:2},{value:"Known Issues",id:"known-issues",level:2},{value:"Our Ask",id:"our-ask",level:2}];function c(e){const t={a:"a",code:"code",em:"em",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"what-happened",children:"What Happened"}),"\n",(0,i.jsxs)(t.p,{children:["On July 12, 2025, we released v0.99.0, which included ",(0,i.jsx)(t.a,{href:"https://github.com/antinomyhq/forge/pull/1068",children:"PR #1068"})," introducing aggressive conversation compaction to reduce LLM costs. While successful at cutting costs by 40-50%, it significantly degraded response quality by removing crucial conversation context."]}),"\n",(0,i.jsx)(t.p,{children:"Users reported quality issues within 2 days. After internal testing confirmed the problem, we immediately released v0.100.0 on July 14 with the compaction feature reverted."}),"\n",(0,i.jsx)(t.h2,{id:"root-cause",children:"Root Cause"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Our evaluation system only tested single prompts, missing multi-turn conversation quality."})}),"\n",(0,i.jsxs)(t.p,{children:["The compaction feature triggered after every user message (",(0,i.jsx)(t.code,{children:"on_turn_end: true"}),"), stripping context that our models needed for quality responses. In multi-turn scenarios (where users provide additional feedback after the agent completes work), the conversation context was getting compacted away, leading to poor quality responses."]}),"\n",(0,i.jsx)(t.p,{children:"Our evals never caught this because they focused on single prompts and judged the results of the agent loop, not ongoing conversations where users\ngive feedback in the same conversation and context accumulation is critical."}),"\n",(0,i.jsx)(t.h2,{id:"why-we-did-this",children:"Why We Did This"}),"\n",(0,i.jsx)(t.p,{children:"Higher than expected early access signups created cost pressure. Rather than implementing waitlists, we chose aggressive optimization to keep the service open to all users. The feature worked perfectly for its intended purpose, just at the cost of quality we didn't anticipate."}),"\n",(0,i.jsx)(t.h2,{id:"what-weve-done",children:"What We've Done"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Immediate"}),": Reverted the feature in v0.100.0 (2 days after user reports)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Long-term"}),": Building multi-turn evaluation system to catch these issues before deployment"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"what-were-changing",children:"What We're Changing"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Multi-turn evals"})," - Testing conversation quality across 3-5 message exchanges, not just single responses"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Quality gates"})," - Conversation quality scores must pass thresholds before any context affecting feature ships"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Gradual rollouts"})," - Canary releases for any feature touching core conversation logic"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"known-issues",children:"Known Issues"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Bash terminal still has issues on windows, but we are working on it."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"our-ask",children:"Our Ask"}),"\n",(0,i.jsx)(t.p,{children:"We messed up by prioritizing cost optimization over quality validation. The latest Forge version (v0.100.5) has the issue fixed plus significant stability improvements."}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Please give Forge another shot."})," We've learned our lesson about shipping features that affect conversation quality without proper testing coverage."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"Questions? Reach out through our community channels. We're committed to transparency about what went wrong and how we're fixing it."})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var s=n(6540);const i={},r=s.createContext(i);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:t},e.children)}},467:e=>{e.exports=JSON.parse('{"permalink":"/blog/forge-incident-12-july-2025-rca-2","source":"@site/blog/forge-performance-rca.md","title":"Root Cause Analysis: Forge Quality Degradation on July 12","description":"A detailed analysis of the Forge quality issues that occurred on July 12, 2025, including root cause, impact, and steps taken to prevent future incidents.","date":"2025-07-18T00:00:00.000Z","tags":[{"inline":true,"label":"incident","permalink":"/blog/tags/incident"},{"inline":true,"label":"forge","permalink":"/blog/tags/forge"},{"inline":true,"label":"RCA","permalink":"/blog/tags/rca"}],"readingTime":1.82,"hasTruncateMarker":true,"authors":[{"name":"Tushar","url":"https://github.com/tusharmath","social":[{"platform":"github","url":"https://github.com/tusharmath"},{"platform":"twitter","url":"https://twitter.com/tusharmath"},{"platform":"linkedin","url":"https://linkedin.com/in/tusharmath"}],"imageURL":"https://avatars.githubusercontent.com/u/194482?v=4","key":"tushar","page":null}],"frontMatter":{"slug":"forge-incident-12-july-2025-rca-2","title":"Root Cause Analysis: Forge Quality Degradation on July 12","authors":["tushar"],"date":"2025-07-18T00:00:00.000Z","description":"A detailed analysis of the Forge quality issues that occurred on July 12, 2025, including root cause, impact, and steps taken to prevent future incidents.","tags":["incident","forge","RCA"]},"unlisted":false,"prevItem":{"title":"Why Token Pricing for Dev Tools is Broken (And What We\'re Doing About It)","permalink":"/blog/seat-based-pricing-ai-agents"},"nextItem":{"title":"Everything You Need to Know About Grok 4","permalink":"/blog/grok-4-initial-impression"}}')}}]);